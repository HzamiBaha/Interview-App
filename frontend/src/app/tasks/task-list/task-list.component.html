<mat-card>
    <mat-card-header>
        <mat-card-title>Task Management</mat-card-title>
        <button mat-button (click)="openCreateDialog()" style="margin-left: auto;">
            <mat-icon>add</mat-icon> Add Task
        </button>
        <button mat-button (click)="logout()">Logout</button>
    </mat-card-header>
    <mat-card-content>
        <div *ngIf="isLoading">Loading tasks...</div>
        <mat-list>
            <mat-list-item *ngFor="let task of tasks$ | async">
                <div class="task-item">
                    <div class="task-content">
                        <h3>{{ task.title }}</h3>
                        <p>Status: {{ task.completed ? 'Completed' : 'Pending' }}</p>
                    </div>
                    <div class="task-actions">
                        <button mat-icon-button (click)="openEditDialog(task)">
                            <mat-icon>edit</mat-icon>
                        </button>
                        <button mat-icon-button (click)="deleteTask(task.id!)" color="warn">
                            <mat-icon>delete</mat-icon>
                        </button>
                    </div>
                </div>
            </mat-list-item>
        </mat-list>
    </mat-card-content>
</mat-card>